
<!DOCTYPE html>
<html lang='en'>
<head>
<title>Administering a Highly Available Cloud SQL for SQL Server Database | Qwiklabs</title>
<meta name="action-cable-url" content="/cable" />
<script>
//<![CDATA[
window.gon={};gon.deployment="googlecoursera-run";
//]]>
</script>
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-5XSKHDX");
</script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/polyfills/webcomponents-loader-8583b47b01e40e6ea7bf1ad443a20b7e79bbdd5eafac009806a228c91a97282c.js"></script>
<script src="https://cdn.qwiklabs.com/assets/vendor-613520545532a2795a401a8168ca8b698b9ee765a66f5ad9ead806b5c32eabe8.js"></script>
<script src="https://cdn.qwiklabs.com/assets/application-764552f4bc7e4ee5dc74a9b3fd7ddf41c0c326f6f8253193b6e48f971195330f.js"></script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/hallofmirrors-53579c8602b4c89dd0f1ade9c7d5e535ef7c3e1546fea5e0468d970052bd60fb.js"></script>
<!--[if lt IE 9]>  <![endif]-->
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
<!--[endif]>  <![endif]-->
<script id='ze-snippet' src='https://static.zdassets.com/ekr/snippet.js?key=511e4158-0aec-4e3c-b2e6-4daa1769f51e'></script>


<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="oKYVgdrAi+mgAz7JkzcfswkjRSJsDzXQ6eiFvCbk0F2HVzhrXq3yVr+Yg2LnuNp9AxHQPFJ5QzEcfedboRPn7w==" />
<meta content='width=device-width, initial-scale=1.0, user-scalable=yes' name='viewport'>
<meta content='1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0' name='google-site-verification'>
<meta content='#3681E4' property='msapplication-TileColor'>
<meta content='/favicon-144.png' property='msapplication-TileImage'>
<meta content='[{&quot;id&quot;:&quot;recaptcha_experiment&quot;,&quot;optimize_id&quot;:&quot;dpViOcLkT3qS4TvL2mRojA&quot;,&quot;title&quot;:&quot;No Recaptcha shown for trusted users&quot;,&quot;variant_index&quot;:1,&quot;variant&quot;:&quot;no_recaptcha&quot;}]' name='active-experiments'>
<meta content='{&quot;userId&quot;:12197799,&quot;experimentIds&quot;:[&quot;course_upgrade&quot;,&quot;canonical_domain_redirect&quot;,&quot;program_resources&quot;,&quot;program_learning_assignment&quot;,&quot;program_announcements&quot;,&quot;peer_assignment&quot;,&quot;teams&quot;,&quot;oauth_risc_shutoff&quot;,&quot;search_updates&quot;,&quot;show_annual_purchase_now&quot;,&quot;programs&quot;,&quot;used_in&quot;,&quot;barker&quot;,&quot;program_groups&quot;,&quot;enforce_codebuild_verdicts&quot;,&quot;chat_off_for_signed_out_users&quot;,&quot;community_forum&quot;,&quot;alexandria_show_bundle_errors&quot;]}' name='help-api-product-data'>
<meta content='{&quot;groupIds&quot;:[&quot;non_suadmins&quot;,&quot;students&quot;,&quot;non_organization&quot;,&quot;non_program&quot;]}' name='help-api-custom-data'>
<meta content='In this lab, you will create a SQL Server database using Google Cloud SQL. You will enable high availability and deploy it securely with only a private IP address. You will then load a sample database into it and connect to the database using a client machine. You will also perform backup and restore operations and test high availability by triggering a failover.' name='description'>
<meta content='Qwiklabs' name='author'>
<meta content='Administering a Highly Available Cloud SQL for SQL Server Database | Qwiklabs' property='og:title'>
<meta content='website' property='og:type'>
<meta content='/favicon-144.png' property='og:image'>
<meta content='Qwiklabs' property='og:site_name'>
<meta content='In this lab, you will create a SQL Server database using Google Cloud SQL. You will enable high availability and deploy it securely with only a private IP address. You will then load a sample database into it and connect to the database using a client machine. You will also perform backup and restore operations and test high availability by triggering a failover.' property='og:description'>
<meta content='/qwiklabs_logo_900x887.png' property='og:logo' size='900x887'>
<meta content='/qwiklabs_logo_994x187.png' property='og:logo' size='994x187'>


<meta property="og:url" content="https://googlecoursera.qwiklabs.com/focuses/31004912?parent=lti_session" /><link href="https://googlecoursera.qwiklabs.com/focuses/31004912?parent=lti_session" rel="canonical" />
<link color='#3681E4' href='/favicon-svg.svg' rel='mask-icon'>
<link href='/favicon-180.png' rel='apple-touch-icon-precomposed'>
<link href='/favicon-32.png' rel='shortcut icon' type='image/x-icon'>


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:400|Roboto+Mono:400,700|Roboto:300,400,500,700|Google+Sans:300,400,500,700|Google+Sans+Display:400|Material+Icons|Google+Material+Icons|Google+Sans+Text:400,500,700" media="screen" />

<link rel="stylesheet" href="https://cdn.qwiklabs.com/assets/application-edc88b659d478c138e12de45354d6e27fda904c51d367223d97eb4d41608b847.css" media="all" />
<link rel="stylesheet" href="https://www.gstatic.com/glue/cookienotificationbar/cookienotificationbar.min.css" media="screen" />


<style>
  :root {
    --primary-text-on-surface-color: #1a73e8;
    --primary-text-on-surface-color-dark: #1568d6;
    --primary-text-on-surface-color-darker: #135ec1;
    --primary-text-on-surface-color-darkest: #1154ac;
    --primary-surface-color: #1a73e8;
    --primary-surface-color-rgb: 26,115,232;
    --primary-surface-color-light: #d1e3fa;
    --primary-surface-color-lightest: #e8f1fd;
    --text-on-primary-color: #ffffff;
    --accent-text-on-surface-color: #f29900;
    --accent-surface-color: #f9ab00;
    --accent-surface-color-rgb: 249,171,0;
    --accent-surface-color-light: #ffefcc;
    --text-on-accent-color: #202124;
  }
</style>

<style>
  :root {
    --navbar-height: 64px;
  }
</style>



</head>
<body class='lab-show l-full no-nav application-new focuses focuses-show lab-show l-full no-nav '>
<div class='header-container'>
<div class='header'>
<ql-toolbar jumpEnabled>
<div class='header__title' slot='title'>
<ql-icon-button label="Back" href="https://www.coursera.org/" id="3220db6f754479ed" target="_self" tip="Back">arrow_back</ql-icon-button>
<h1 class='ql-headline-6'>Administering a Highly Available Cloud SQL for SQL Server Database</h1>
</div>
<div class='header__actions' slot='action'>
<ql-icon-button id='control-panel-target' style='display: none;'>
dashboard
</ql-icon-button>
<ql-menu for='control-panel-target' id='control-panel-menu'></ql-menu>
<ql-icon-button class='mobile-hide' icon='help_outline' id='help-menu-button' label='Open help menu' tip='Help'></ql-icon-button>
<ql-menu for='help-menu-button' id='help-menu'>
<ql-menu-item data-analytics-action='opened_help' data-analytics-label='lab' label='Help Center' onclick='hallofmirrors.helpService.startHelp({&quot;productData&quot;:{&quot;userId&quot;:12197799},&quot;context&quot;:&quot;lab&quot;})'></ql-menu-item>
<ql-menu-item href='mailto:support@qwiklabs.com' label='Email support'></ql-menu-item>
<ql-menu-item label='Chat support' onClick='ql.chat.open()'></ql-menu-item>
</ql-menu>

<ql-icon-button class='mobile-hide' icon='language' id='language' label='Select your language preference' tip='Language'></ql-icon-button>
<ql-menu for='language'>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ar' href='/focuses/31004912?locale=ar&amp;parent=lti_session' label='العربية‬‎' lang='ar'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='de' href='/focuses/31004912?locale=de&amp;parent=lti_session' label='Deutsch' lang='de'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='en' href='/focuses/31004912?locale=en&amp;parent=lti_session' label='English' lang='en'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='es' href='/focuses/31004912?locale=es&amp;parent=lti_session' label='español (Latinoamérica)' lang='es'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='fr' href='/focuses/31004912?locale=fr&amp;parent=lti_session' label='français' lang='fr'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='fr_CA' href='/focuses/31004912?locale=fr_CA&amp;parent=lti_session' label='français (Canada)' lang='fr-CA'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='he' href='/focuses/31004912?locale=he&amp;parent=lti_session' label='עברית' lang='he'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='id' href='/focuses/31004912?locale=id&amp;parent=lti_session' label='bahasa Indonesia' lang='id'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='it' href='/focuses/31004912?locale=it&amp;parent=lti_session' label='Italiano' lang='it'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ja' href='/focuses/31004912?locale=ja&amp;parent=lti_session' label='日本語' lang='ja'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ko' href='/focuses/31004912?locale=ko&amp;parent=lti_session' label='한국어' lang='ko'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pl' href='/focuses/31004912?locale=pl&amp;parent=lti_session' label='Polski' lang='pl'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pt_BR' href='/focuses/31004912?locale=pt_BR&amp;parent=lti_session' label='português (Brasil)' lang='pt-BR'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='pt_PT' href='/focuses/31004912?locale=pt_PT&amp;parent=lti_session' label='português (Portugal)' lang='pt-PT'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='ru' href='/focuses/31004912?locale=ru&amp;parent=lti_session' label='русский' lang='ru'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='tr' href='/focuses/31004912?locale=tr&amp;parent=lti_session' label='Türkçe' lang='tr'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='uk' href='/focuses/31004912?locale=uk&amp;parent=lti_session' label='український' lang='uk'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='zh' href='/focuses/31004912?locale=zh&amp;parent=lti_session' label='简体中文' lang='zh'></ql-menu-item>
<ql-menu-item data-analytics-action='changed_locale' data-analytics-label='zh_TW' href='/focuses/31004912?locale=zh_TW&amp;parent=lti_session' label='繁體中文' lang='zh-TW'></ql-menu-item>
</ql-menu>


<ql-icon-button id='my_account' label='My account' tip='My account'>
<ql-avatar src='https://lh3.googleusercontent.com/a/ACg8ocI6s7UhNvX_oCOJMPhLJPmqhqIgwu_5AK0t7wpjF-5jmQo=s320-c'></ql-avatar>
</ql-icon-button>
<ql-menu for='my_account' id='my_account_menu' style='max-height: 640px'>
<div class='my-account-menu'>
<ql-avatar class='l-mtl l-mbl' size='120' src='https://lh3.googleusercontent.com/a/ACg8ocI6s7UhNvX_oCOJMPhLJPmqhqIgwu_5AK0t7wpjF-5jmQo=s320-c'></ql-avatar>
<div class='my-account-menu__user-info l-mbl'>
<h4 class='ql-subhead-1'>Justin Ho</h4>
<p class='ql-body-2 text--light'>cliffdove@gmail.com</p>
<p class='ql-body-2 text--light'>
</p>
<a class="text--green ql-subhead-2" href="/my_account/payments"><ql-chip positive>
0 Credits
</ql-chip>
</a></div>
<div class='buttons l-mbl'>
<a class="button button--hairline" id="settings" href="/my_account/profile">Settings</a>
</div>
<hr>
<ql-button data-analytics-action='clicked_sign_out' href='/users/sign_out' method='delete'>
Sign Out
</ql-button>
<div class='privacy l-mtl'>
<a target="_blank" class="ql-caption text--light" href="/privacy_policy">Privacy</a>
<span class='ql-caption text--light l-mls l-mrs'>&middot;</span>
<a class="ql-caption text--light" href="/terms_of_service">Terms</a>
</div>
</div>
</ql-menu>

</div>
</ql-toolbar>

</div>
</div>

<nav class='nav-panel js-nav-panel'>
<div class='nav-panel__logo'>
<div class="custom-logo">Qwiklabs</div>
</div>
<nav class='ql-sidenav'>
<ql-sidenav-item href='/' icon='home' label='Home'></ql-sidenav-item>

<ql-sidenav-item href='/catalog' icon='school' label='Catalog'></ql-sidenav-item>

<ql-sidenav-item href='/profile' icon='event_note' label='Profile'></ql-sidenav-item>

</nav>

</nav>
<div class='nav-panel__overlay js-nav-toggle'></div>

<main class='js-main' id='jump-content'>
<div class='l-main-wrapper' id='main-wrapper'>




<div class='lab-assessment__tab js-open-lab-assessment-panel'>
<button class='js-lab-assessment-total-score'>
—/100
</button>
</div>
<div aria-labelledby='lab-assessment-checkpoint' class='lab-assessment__panel js-lab-assessment-panel' role='dialog'>
<div class='lab-assessment__panel__header'>
<h4 id='lab-assessment-checkpoint'>Checkpoints</h4>
<ql-icon-button class='js-close-lab-assessment-panel' icon='arrow_forward' label='Close dialog'></ql-icon-button>
</div>
<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Create a secure, highly available SQL Server database using Cloud SQL
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Create a secure, highly available SQL Server database using Cloud SQL' step_no='1'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-1'>
</span>
/ 20
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Perform backup and restore operations
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Perform backup and restore operations' step_no='2'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-2'>
</span>
/ 30
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Connect to the database using its private IP address
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Connect to the database using its private IP address' step_no='3'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-3'>
</span>
/ 30
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Trigger a failover to test high availability
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Trigger a failover to test high availability' step_no='4'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-4'>
</span>
/ 20
</p>
</div>
</div>

</div>
<ql-drawer-container class='js-lab-state' data-analytics-payload='{&quot;label&quot;:&quot;Administering a Highly Available Cloud SQL for SQL Server Database&quot;,&quot;lab_name&quot;:&quot;Administering a Highly Available Cloud SQL for SQL Server Database&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecoursera-run&quot;}' data-credits='0.0' data-focus-id='31004912' data-lab-billing-limit='0.0' data-lab-duration='7200' data-parent='lti_session' data-recaptcha-enabled id='lab-container'>
<ql-drawer id='terminal-drawer' slot='drawer'>
<iframe allow='clipboard-read' class='terminal' id='embedded-resource'></iframe>
</ql-drawer>
<ql-drawer-content class='js-lab-wrapper' id='lab-content' slot='drawer-content'>
<ql-drawer-container id='lab-content-container'>
<ql-drawer id='control-panel-drawer' open slot='drawer' width='320'>
<ql-lab-control-panel class='ql-lab-control-panel__max-height control-panel js-lab-control-panel' connectionFiles='[]' labControlButton='{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}' labDetails='[]' labTimer='{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:7200}' studentResources='[]'>
<script src="https://www.recaptcha.net/recaptcha/api.js?render=6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr"   ></script>
        <script>
          // Define function so that we can call it again later if we need to reset it
          // This executes reCAPTCHA and then calls our callback.
          function executeRecaptchaForStartLab() {
            grecaptcha.ready(function() {
              grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}).then(function(token) {
                setInputWithRecaptchaResponseTokenForStartLab('g-recaptcha-response-data-start-lab', token)
              });
            });
          };
          // Invoke immediately
          executeRecaptchaForStartLab()

          // Async variant so you can await this function from another async function (no need for
          // an explicit callback function then!)
          // Returns a Promise that resolves with the response token.
          async function executeRecaptchaForStartLabAsync() {
            return new Promise((resolve, reject) => {
             grecaptcha.ready(async function() {
                resolve(await grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}))
              });
            })
          };

                  var setInputWithRecaptchaResponseTokenForStartLab = function(id, token) {
          var element = document.getElementById(id);
          if (element !== null) element.value = token;
        }

        </script>
<input type="hidden" name="g-recaptcha-response-data[start_lab]" id="g-recaptcha-response-data-start-lab" data-sitekey="6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr" class="g-recaptcha g-recaptcha-response "/>

<div aria-live='polite' class='hidden' id='recaptcha-v2-start-lab' slot='recaptcha'>
<script src="https://www.recaptcha.net/recaptcha/api.js" async defer ></script>
<div data-sitekey="6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV" data-callback="recaptchaComplete" data-expired-callback="expireV2Token" class="g-recaptcha "></div>
          <noscript>
            <div>
              <div style="width: 302px; height: 422px; position: relative;">
                <div style="width: 302px; height: 422px; position: absolute;">
                  <iframe
                    src="https://www.recaptcha.net/recaptcha/api/fallback?k=6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV"
                    name="ReCAPTCHA"
                    style="width: 302px; height: 422px; border-style: none; border: 0; overflow: hidden;">
                  </iframe>
                </div>
              </div>
              <div style="width: 300px; height: 60px; border-style: none;
                bottom: 12px; left: 25px; margin: 0px; padding: 0px; right: 25px;
                background: #f9f9f9; border: 1px solid #c1c1c1; border-radius: 3px;">
                <textarea id="g-recaptcha-response" name="g-recaptcha-response"
                  class="g-recaptcha-response"
                  style="width: 250px; height: 40px; border: 1px solid #c1c1c1;
                  margin: 10px 25px; padding: 0px; resize: none;">
                </textarea>
              </div>
            </div>
          </noscript>

</div>
</ql-lab-control-panel>
</ql-drawer>
<ql-drawer-content id='lab-instructions' slot='drawer-content'>
<div class='lab-content-container'>
<div class='alert alert--fake js-alert'>
<p class='alert__message js-alert-message' role='alert'></p>
<ql-icon-button class='alert__close js-alert-close' icon='clear'></ql-icon-button>
<iframe class='l-ie-iframe-fix' tabindex='-1'></iframe>
</div>
<div class='lab-content__renderable-instructions js-lab-content'>
<div class='lab-preamble'>
<h1 class='lab-preamble__title'>
Administering a Highly Available Cloud SQL for SQL Server Database
</h1>
<div class='lab-preamble__details subtitle-headline-1'>
<span>2 hours </span>
<span>Free</span>
<div class='lab__rating'>
<a aria-label="Lab Reviews" href="/focuses/31004912/reviews?parent=lti_session"><div class='rateit' data-rateit-readonly='true' data-rateit-value='4.3503'></div>

</a></div>
</div>
</div>
<div class='lab-outline-place-holder'></div>

<div class='markdown-lab-instructions js-markdown-instructions' id='markdown-lab-instructions'>

<h2 id="step1">Overview</h2>
<p>In this lab, you create a SQL Server database using Cloud SQL. You enable high availability and deploy it securely with only a private IP address. You then load a sample database into it and connect to the database using a client machine. You also perform backup and restore operations and test high availability by triggering a failover.</p>
<h3>Objectives</h3>
<p>In this lab, you learn how to perform the following tasks:</p>
<ul>
<li>
<p>Create a secure, highly available SQL Server database using Cloud SQL.</p>
</li>
<li>
<p>Perform backup and restore operations.</p>
</li>
<li>
<p>Connect to the database using its private IP address.</p>
</li>
<li>
<p>Trigger a failover to test high availability.</p>
</li>
</ul>
<h2 id="step2">Setup and requirements</h2>
<p>In this task, you use Qwiklabs and perform initialization steps for your lab.</p>
<p>For each lab, you get a new Google Cloud project and set of resources for a fixed time at no cost.</p>
<ol>
<li>
<p>Sign in to Qwiklabs using an <strong>incognito window</strong>.</p>
</li>
<li>
<p>Note the lab's access time (for example, <code>1:15:00</code>), and make sure you can finish within that time.<br>
There is no pause feature. You can restart if needed, but you have to start at the beginning.</p>
</li>
<li>
<p>When ready, click <strong>Start lab</strong>.</p>
</li>
<li>
<p>Note your lab credentials (<strong>Username</strong> and <strong>Password</strong>). You will use them to sign in to the Google Cloud Console.</p>
</li>
<li>
<p>Click <strong>Open Google Console</strong>.</p>
</li>
<li>
<p>Click <strong>Use another account</strong> and copy/paste credentials for <strong>this</strong> lab into the prompts.<br>
If you use other credentials, you'll receive errors or <strong>incur charges</strong>.</p>
</li>
<li>
<p>Accept the terms and skip the recovery resource page.</p>
</li>
</ol>
<aside class="warning"><p><strong>Note:</strong> Do not click <strong>End Lab</strong> unless you have finished the lab or want to restart it. This clears your work and removes the project.
  </p>
</aside>
<h2 id="step3">Task 1. Create a secure, highly available SQL Server database using Cloud SQL</h2>
<ol>
<li>
<p>Open a new web browser window and navigate to the Google Cloud Console (console.cloud.google.com). Use the project selector to choose
the first project with a leading name of 'qwiklabs-gcp.'</p>
</li>
<li>
<p>On the <strong>Navigation menu</strong> (<img alt="Navigation menu icon." src="https://cdn.qwiklabs.com/tkgw1TDgj4Q%2BYKQUW4jUFd0O5OEKlUMBRYbhlCrF0WY%3D">), click <strong>SQL</strong>.</p>
</li>
<li>
<p>Click <strong>Create Instance</strong>, and then select <strong>SQL Server</strong>.</p>
</li>
<li>
<p>For <strong>Instance ID</strong>, type <strong>sql-server</strong>, and then for <strong>Password</strong>, click <strong>Generate</strong>.</p>
</li>
<li>
<p>Copy and paste your generated password into a text file so you don't lose it. (<em>If you prefer, you can enter a password that you can remember</em>.)</p>
</li>
<li>
<p>For Database version, select the default <strong>Standard</strong> edition of SQL Server.</p>
</li>
<li>
<p>For <strong>Choose region and zonal availability</strong> select <strong>Multiple zones</strong>.</p>
</li>
<li>
<p>Click <strong>Show Configuration Options</strong> and expand the <strong>Machine configuration</strong> section. Change the machine type to <strong>4vCPUs, 16GB</strong>.</p>
</li>
<li>
<p>Expand the <strong>Storage</strong> section and select <strong>20 GB</strong> for Storage capacity. Also, make sure that <strong>Enable automatic storage increases</strong> option is selected.</p>
</li>
<li>
<p>Expand the <strong>Connections</strong> section.</p>
</li>
<li>
<p>Select <strong>Private IP</strong> and choose <strong>default</strong> network from the dropdown menu.</p>
</li>
</ol>
<ql-infobox><b>Note:</b> An associated networking dropdown will appear below the private IP checkbox. This is the network that will be peered to the network Google manages your Cloud SQL database in. This is just like what you did earlier in the course when you created public and private networks and set up a peering between them.</ql-infobox>
<ol start="12">
<li>
<p>Click on <strong>Set Up Connection</strong> and then in the dialog, click on <strong>Enable API</strong>.</p>
</li>
<li>
<p>For <strong>Allocate an IP range</strong>, select <strong>Use an automatically allocated IP range</strong> and click <strong>Continue</strong>.</p>
</li>
<li>
<p>Click <strong>Create connection</strong> (this will take a minute), and then clear <strong>Public IP</strong>.</p>
</li>
<li>
<p>Expand the <strong>Data Protection</strong> section and note that <strong>Automate daily backups</strong> is selected.</p>
</li>
<li>
<p>Click <strong>Create Instance</strong> to create your database server.<br>
(<em>This will take a few minutes, but you can continue with the next few steps while you are waiting</em>.)</p>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="1">
Create a secure, highly available SQL Server database using Cloud SQL
</ql-activity-tracking></p>
</li>
</ol>
<h2 id="step4">Task 2. Perform backup and restore operations</h2>
<ol>
<li>
<p>Click <strong>Activate Cloud Shell</strong> (<img alt="Cloud Shell icon" src="https://cdn.qwiklabs.com/ep8HmqYGdD%2FkUncAAYpV47OYoHwC8%2Bg0WK%2F8sidHquE%3D">) in the upper-right corner of the Console. If prompted click <strong>Continue</strong>.<br>
The Cloud Shell terminal will open in a pane at the bottom of the window.</p>
</li>
<li>
<p>To download a sample database to use in this exercise, enter the following command:</p>
</li>
</ol>
<ql-code-block language="plaintext">
curl -O https://storage.googleapis.com/cloud-training/dbmigration/AdventureWorksLT2017.bak
</ql-code-block>
<ol start="3">
<li>
<p>Type <strong>ls</strong>.<br>
A SQL backup file named <strong>AdventureWorksLT2017.bak</strong> is listed that allows you to restore the Microsoft Adventure Works sample database.</p>
</li>
<li>
<p>In Cloud Shell,to see the environment variable that is set to your current project's ID, run the following command:</p>
</li>
</ol>
<ql-code-block language="plaintext">
echo $DEVSHELL_PROJECT_ID
</ql-code-block>
<ol start="5">
<li>
<p>Create a Cloud Storage bucket whose name is the same as your project ID.   Click <strong>Authorize</strong> if prompted:</p>
</li>
</ol>
<ql-code-block language="plaintext">
gcloud storage buckets create gs://$DEVSHELL_PROJECT_ID
</ql-code-block>
<ol start="6">
<li>
<p>Copy the Adventure Works backup file into that bucket:</p>
</li>
</ol>
<ql-code-block language="plaintext">
gcloud storage cp ./AdventureWorksLT2017.bak gs://$DEVSHELL_PROJECT_ID
</ql-code-block>
<ol start="7">
<li>
<p>Look at your Cloud SQL server in the Console. If it is ready, continue; otherwise, take a short break.</p>
</li>
<li>
<p>When the server is ready, click its name to see its details.</p>
</li>
<li>
<p>On the <strong>Overview</strong> page, click <strong>Import</strong>.</p>
</li>
<li>
<p>Browse to your bucket and select the <strong>AdventureWorksLT2017.bak</strong> file.</p>
</li>
<li>
<p>Under <strong>Destination</strong>, name the database <strong>AdventureWorks</strong>, and then click <strong>Import</strong>.<br>
(<em>It will take a short time for the import to complete</em>.)</p>
</li>
<li>
<p>When the import job completes, click the <strong>Backups</strong> link on the left.</p>
</li>
<li>
<p>Backups are set to run automatically, but click <strong>Create backup</strong> now.</p>
</li>
<li>
<p>For <strong>Description</strong>, type <strong>Initial AdventureWorks backup</strong> and click <strong>Create</strong>.
(<em>It will take a short time for the backup to complete</em>.)</p>
</li>
<li>
<p>Click the <strong>Operations</strong> link on the left, it tracks what has happened on the database so far.</p>
</li>
</ol>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="2">
Perform backup and restore operations
</ql-activity-tracking></p>
<h2 id="step5">Task 3. Connect to the database using its private IP address</h2>
<ol>
<li>Click the <strong>Users</strong> link on the left.</li>
</ol>
<p>A user named <em>sqlserver</em> is automatically created for you. The password for this user is the one you generated when you created the database. (<em>You should have pasted the password in a text file. You can create additional users now if you want to</em>.)</p>
<ol start="2">
<li>Click the <strong>Overview</strong> link on the left, and then copy the <strong>Private IP address</strong> to the clipboard and paste it in your text file.<br>
<em>You will need this later to connect to the database</em>.</li>
</ol>
<p><img alt="The Overview page, which includes the highlighted Private IP address 10.96.224.2." src="https://cdn.qwiklabs.com/Kmh%2Bwq2N639gDsNdAEX6Inni389ct2sjM9Ne%2F5xGqHY%3D"></p>
<ol start="3">
<li>
<p>To create a Ubuntu Linux virtual machine in Cloud Shell, enter the following gcloud command:</p>
</li>
</ol>
<ql-code-block language="plaintext">
gcloud compute instances create cloud-sql-client --machine-type=e2-standard-2 --zone=us-central1-a --image=ubuntu-1604-xenial-v20200610 --image-project=ubuntu-os-cloud
</ql-code-block>
<ol start="4">
<li>
<p>When the command completes, navigate to the <strong>Compute Engine &gt; VM Instance</strong> service to see your virtual machine, and then click <strong>SSH</strong> in the row for that machine.</p>
</li>
<li>
<p>To download the Microsoft SQL Server client software, run the following commands:</p>
</li>
</ol>
<ql-code-block language="plaintext">
curl https://packages.microsoft.com/keys/microsoft.asc | sudo apt-key add -
curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list | sudo tee /etc/apt/sources.list.d/msprod.list
</ql-code-block>
<ol start="6">
<li>
<p>To install the software, run the following commands:</p>
</li>
</ol>
<ql-code-block language="plaintext">
sudo apt-get update
sudo apt-get install mssql-tools unixodbc-dev
</ql-code-block>
<ol start="7">
<li>
<p>When prompted, select <strong>Yes</strong>.</p>
</li>
<li>
<p>To add the client software to your path, run the following commands:</p>
</li>
</ol>
<ql-code-block language="plaintext">
echo 'export PATH="$PATH:/opt/mssql-tools/bin"' &gt;&gt; ~/.bash_profile
echo 'export PATH="$PATH:/opt/mssql-tools/bin"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</ql-code-block>
<ol start="9">
<li>To connect to your Cloud SQL database, enter the following command, but replace the Private IP address to match [<em>your server's IP</em>]:</li>
</ol>
<ql-code-block language="plaintext">
sqlcmd -S [Your Private IP],1433 -U sqlserver
</ql-code-block>
<ol start="10">
<li>
<p>Enter your password when prompted.</p>
</li>
<li>
<p>To see the databases, enter the following two commands separately and in order:</p>
</li>
</ol>
<ql-infobox><b>Note:</b> Press RETURN after each command.</ql-infobox>
<ql-code-block language="plaintext">
EXEC sp_databases;
</ql-code-block>
<ql-code-block language="plaintext">
go
</ql-code-block>
<ol start="12">
<li>
<p>Query <strong>AdventureWorks</strong>:</p>
</li>
</ol>
<ql-code-block language="plaintext">
SELECT TOP (10) CompanyName FROM [AdventureWorks].[SalesLT].[Customer];
</ql-code-block>
<ql-code-block language="plaintext">
go
</ql-code-block>
<ql-infobox><b>Note:</b> Press RETURN after each command.</ql-infobox>
<ol start="13">
<li>
<p>Change all of the company names to <strong>Google</strong>:</p>
</li>
</ol>
<ql-code-block language="plaintext">
UPDATE [AdventureWorks].[SalesLT].[Customer] SET CompanyName = 'Google';
</ql-code-block>
<ql-code-block language="plaintext">
go
</ql-code-block>
<ol start="14">
<li>
<p>To confirm that your command worked, run the <code>SELECT</code> query again:</p>
</li>
</ol>
<ql-code-block language="plaintext">
SELECT TOP (10) CompanyName FROM [AdventureWorks].[SalesLT].[Customer];
</ql-code-block>
<ql-code-block language="plaintext">
go
</ql-code-block>
<p>The results are not quite accurate.</p>
<ol start="15">
<li>
<p>To proceed to restore the backup you created earlier, return to <strong>Cloud SQL</strong> in the Console. Select your server to view its details, and then click the <strong>Backups</strong> link.</p>
</li>
<li>
<p>Click <strong>Restore</strong> next to your backup, and then enter the instance name as instructed and click <strong>Restore</strong>. (<em>This will take a few minutes</em>.)</p>
</li>
<li>
<p>When the restore operation completes, return to your client machine and run the <code>SELECT</code> query again to confirm that your backup was restored correctly:</p>
</li>
</ol>
<ql-code-block language="plaintext">
SELECT TOP (10) CompanyName FROM [AdventureWorks].[SalesLT].[Customer];
</ql-code-block>
<ql-code-block language="plaintext">
go
</ql-code-block>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="3">
Connect to the database using its private IP address
</ql-activity-tracking></p>
<h2 id="step6">Task 4. Trigger a failover to test high availability</h2>
<ol>
<li>
<p>Return to your Cloud SQL database <strong>Overview</strong> page, and at the top, click <strong>Failover</strong>.</p>
</li>
<li>
<p>Enter the database name as instructed, and click <strong>Trigger Failover</strong>.<br>
<em>It will take about a minute for the failover operation to finish</em>.</p>
</li>
<li>
<p>When the operation completes, return to your client and run your query again.</p>
</li>
<li>
<p>To change to one of the records, run the following command:</p>
</li>
</ol>
<ql-code-block language="plaintext">
UPDATE [AdventureWorks].[SalesLT].[Customer] SET CompanyName = 'Google' WHERE CustomerID = 1;
</ql-code-block>
<ql-code-block language="plaintext">
go
</ql-code-block>
<ql-infobox><b>Note:</b> If you are being logged out from the SQL database, reconnect to the Cloud SQL database using your server's IP, and run both of the commands again.</ql-infobox>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="4">
Trigger a failover to test high availability
</ql-activity-tracking></p>
<ol start="5">
<li>
<p>Return to the <strong>Overview</strong> page, click <strong>Failover</strong> to return to the main database, and then confirm that the change made on the Failover is reflected on the main server.</p>
</li>
<li>
<p>To delete the database, from the <strong>Overview</strong> page, click <strong>Delete</strong> and follow the instructions. You can also go to the <strong>Compute Engine</strong> service and delete the client machine.</p>
</li>
</ol>
<h2 id="step7">Congratulations!</h2>
<p>You have created a SQL Server database using Cloud SQL. You enabled high availability and deployed it securely with only a private IP address. You then loaded a sample database into it and connected to the database using a client machine. You also performed backup and restore operations and tested high availability by triggering a failover.</p>
<h2 id="step8">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Google Cloud Skills Boost removes the resources you’ve used and cleans the account for you.</p>
<p>You will be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates the following:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, please use the <strong>Support</strong> tab.</p>
<p>Copyright 2022 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>

</div>
</div>


<div class='lab-content__end-lab-button js-end-lab-button-container hidden'>
<ql-lab-control-button class='js-end-lab-button' running></ql-lab-control-button>
</div>
<!-- / TODO: Move recommendations into the end lab modal -->
</div>
<div aria-label='Lab Table of Contents' class='outline-container' id='js-outline-container' role='navigation'>
<ul class='lab-content__outline js-lab-content-outline'>
<li><a href="#step1">Overview</a></li><li><a href="#step2">Setup and requirements</a></li><li><a href="#step3">Task 1. Create a secure, highly available SQL Server database using Cloud SQL</a></li><li><a href="#step4">Task 2. Perform backup and restore operations</a></li><li><a href="#step5">Task 3. Connect to the database using its private IP address</a></li><li><a href="#step6">Task 4. Trigger a failover to test high availability</a></li><li><a href="#step7">Congratulations!</a></li><li><a href="#step8">End your lab</a></li>
</ul>
</div>
</ql-drawer-content>
</ql-drawer-container>
</ql-drawer-content>
</ql-drawer-container>
<ql-snackbar id='alert-snackbar'></ql-snackbar>



</div>
</main>

<span class='hidden' id='flash-sibling-before'></span>
<ql-snackbar></ql-snackbar>

<script data-glue-cookie-notification-bar-category='2B' src='https://www.gstatic.com/glue/cookienotificationbar/cookienotificationbar.min.js'></script>

<ql-dialog headline='Score Details' icon='task_alt' id='jupyter-feedback-modal'>
<iframe id='jupyter-feedback-frame' srcdoc='' title='Jupyter Feedback'></iframe>
</ql-dialog>

<div class='modal fade' id='lab-details-modal'>
<div class='modal-container'>
<div class='modal-content mdl-shadow--24dp'>
<div class='modal-body'>
<p class='l-mbm'>
In this lab, you will create a SQL Server database using Google Cloud SQL. You will enable high availability and deploy it securely with only a private IP address. You will then load a sample database into it and connect to the database using a client machine. You will also perform backup and restore operations and test high availability by triggering a failover.
</p>
<p class='small-label l-mbs'>
<strong>
Duration:
</strong>
0m setup
&middot;
120m access
&middot;
45m completion
</p>
<p class='small-label l-mbs'>
<strong>AWS Region:</strong>
[] <strong></strong>
</p>
<p class='small-label l-mbs'>
<span><strong>Levels: </strong>intermediate</span>
</p>
<p class='small-label'>
<strong>
Permalink:
</strong>
<a href="https://googlecoursera.qwiklabs.com/catalog_lab/2776">https://googlecoursera.qwiklabs.com/catalog_lab/2776</a>
</p>
</div>
<div class='modal-actions'>
<a class='button button--text' data-dismiss='modal'>
Got It
</a>
</div>


</div>
</div>
<iframe class='l-ie-iframe-fix' tabindex='-1' title='modal'></iframe>
</div>
<ql-dialog headline='How satisfied are you with this lab?&lt;span aria-hidden=&quot;true&quot;&gt;*&lt;/span&gt;' id='lab-review-dialog'>
<form class="simple_form js-lab-review-form" id="new_lab_review" action="/lab_reviews" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" autocomplete="off" /><div aria-labelledby='lab-review-dialog' aria-required='true' aria-valuemax='5' aria-valuemin='0' aria-valuenow='0' class='rateit js-rateit' data-rateit-max='5' data-rateit-min='0' data-rateit-resetable='false' data-rateit-step='1' data-rateit-value='0' id='lab-review-rateit' role='slider' tabindex='0'></div>
<div class='l-mtm'>

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="12197799" name="lab_review[user_id]" id="lab_review_user_id" /></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[classroom_id]" id="lab_review_classroom_id" /></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="2776" name="lab_review[lab_id]" id="lab_review_lab_id" /></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[focus_id]" id="lab_review_focus_id" /></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" autocomplete="off" type="hidden" name="lab_review[rating]" id="lab_review_rating" /></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Additional Comments</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment">
</textarea></div></div>
</div>
</form><ql-button disabled id='submit' label='Submit' slot='action' text></ql-button>
</ql-dialog>

<ql-dialog headline='All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?' icon='error_outline' id='js-lab-are-you-sure-dialog'>
<ql-button id='js-are-you-sure-button' label='Submit' slot='action' text></ql-button>
</ql-dialog>


<script>
  $(function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    ql.chat.init();
  ql.jumpContent.init();
  ql.labControlPanel.addRecaptchaErrorHandler();
  initLabContent();
  ql.labOutline.links.init();
  initLabReviewModal();
  initLabReviewTranslations( {"star_amount_1":"1 of 5 stars","star_amount_2":"2 of 5 stars","star_amount_3":"3 of 5 stars","star_amount_4":"4 of 5 stars","star_amount_5":"5 of 5 stars"} )
  ql.labAssessment.init();
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ⌘-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>

</body>
</html>

